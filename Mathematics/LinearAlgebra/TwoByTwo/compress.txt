TE <TY T>CL TwoByTwoMA{PR:T m_M00;T m_M01;T m_M10;T m_M11;PU:IN TwoByTwoMA(CO T& M00,CO T& M01,CO T& M10,CO T& M11);IN TwoByTwoMA(T&& M00,T&& M01,T&& M10,T&& M11);IN TwoByTwoMA(CO T& n = T());IN TwoByTwoMA(CO int& n);IN TwoByTwoMA(CO MA<2,2,T>& mat);IN TwoByTwoMA(CO TwoByTwoMA<T>& mat);IN TwoByTwoMA(TwoByTwoMA<T>&& mat);IN TwoByTwoMA<T>& OP=(CO TwoByTwoMA<T>& mat);IN TwoByTwoMA<T>& OP=(TwoByTwoMA<T>&& mat);IN TwoByTwoMA<T>& OP*=(CO TwoByTwoMA<T>& mat);IN MA<2,2,T> GetMA22() CO;ST IN TwoByTwoMA<T> Multiply(CO TwoByTwoMA<T>& mat1,CO TwoByTwoMA<T>& mat2);ST IN TwoByTwoMA<T> Square(CO TwoByTwoMA<T>& mat);};TE <TY T> IN TwoByTwoMA<T>::TwoByTwoMA(CO T& M00,CO T& M01,CO T& M10,CO T& M11):m_M00(M00),m_M01(M01),m_M10(M10),m_M11(M11) {}TE <TY T> IN TwoByTwoMA<T>::TwoByTwoMA(T&& M00,T&& M01,T&& M10,T&& M11):m_M00(MO(M00)),m_M01(MO(M01)),m_M10(MO(M10)),m_M11(MO(M11)) {}TE <TY T> IN TwoByTwoMA<T>::TwoByTwoMA(CO T& n):m_M00(n),m_M01(),m_M10(),m_M11(n) {}TE <TY T> IN TwoByTwoMA<T>::TwoByTwoMA(CO int& n):TwoByTwoMA(T(n)) {}TE <TY T> IN TwoByTwoMA<T>::TwoByTwoMA(CO TwoByTwoMA<T>& mat):m_M00(mat.m_M00),m_M01(mat.m_M01),m_M10(mat.m_M10),m_M11(mat.m_M11) {}TE <TY T> IN TwoByTwoMA<T>::TwoByTwoMA(TwoByTwoMA<T>&& mat):m_M00(MO(mat.m_M00)),m_M01(MO(mat.m_M01)),m_M10(MO(mat.m_M10)),m_M11(MO(mat.m_M11)) {}TE <TY T>TwoByTwoMA<T>::TwoByTwoMA(CO MA<2,2,T>& mat): m_M00(),m_M01(),m_M10(),m_M11(){CO TT<T>& M = mat.GetTable();CO VE<T>& M0 = M[0];CO VE<T>& M1 = M[1];m_M00 = M0[0];m_M01 = M0[1];m_M10 = M1[0];m_M11 = M1[1];}TE <TY T> IN TwoByTwoMA<T>& TwoByTwoMA<T>::OP=(CO TwoByTwoMA<T>& mat) {if(&mat != this){m_M00 = mat.m_M00; m_M01 = mat.m_M01; m_M10 = mat.m_M10; m_M11 = mat.m_M11;} RE *this;}TE <TY T> IN TwoByTwoMA<T>& TwoByTwoMA<T>::OP=(TwoByTwoMA<T>&& mat) {m_M00 = MO(mat.m_M00); m_M01 = MO(mat.m_M01); m_M10 = MO(mat.m_M10); m_M11 = MO(mat.m_M11); RE *this;}TE <TY T> IN TwoByTwoMA<T>& TwoByTwoMA<T>::OP*=(CO TwoByTwoMA<T>& mat) {RE OP=(Multiply(*this,mat));}TE <TY T> IN MA<2,2,T> TwoByTwoMA<T>::GetMA22() CO {RE MA<2,2,T>(m_M00,m_M01,m_M10,m_M11);}TE <TY T> IN TwoByTwoMA<T> TwoByTwoMA<T>::Multiply(CO TwoByTwoMA<T>& mat1,CO TwoByTwoMA<T>& mat2) {RE TwoByTwoMA<T>(mat1.m_M00 * mat2.m_M00 + mat1.m_M01 * mat2.m_M10,mat1.m_M00 * mat2.m_M01 + mat1.m_M01 * mat2.m_M11,mat1.m_M10 * mat2.m_M00 + mat1.m_M11 * mat2.m_M10,mat1.m_M10 * mat2.m_M01 + mat1.m_M11 * mat2.m_M11);}TE <TY T> IN TwoByTwoMA<T> TwoByTwoMA<T>::Square(CO TwoByTwoMA<T>& mat) {RE TwoByTwoMA<T>(mat.m_M00 * mat.m_M00 + mat.m_M01 * mat.m_M10,(mat.m_M00 + mat.m_M11) * mat.m_M01,mat.m_M10 * (mat.m_M00 + mat.m_M11),mat.m_M10 * mat.m_M01 + mat.m_M11 * mat.m_M11);}TE <TY T> IN TwoByTwoMA<T> OP*(CO TwoByTwoMA<T>& mat1,CO TwoByTwoMA<T>& mat2) {RE TwoByTwoMA<T>::Multiply(mat1,mat2);}TE <TY T> IN TwoByTwoMA<T> Square(CO TwoByTwoMA<T>& mat) {RE TwoByTwoMA<T>::Square(mat);}
